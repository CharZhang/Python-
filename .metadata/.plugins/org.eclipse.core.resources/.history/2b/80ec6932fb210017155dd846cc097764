#coding:utf-8
import urllib2
import cookielib
from bs4 import BeautifulSoup
from setuptools.ssl_support import opener_for

url ="http://www.baidu.com"
html_doc = ""
print '第一种方法'
response1  = urllib2.urlopen(url)
print response1.getcode()
print len(response1.read())

print '第二种方法'

request = urllib2.Request(url)
request.add_header("user-agent", "Mozilla/5.0")
result = urllib2.urlopen(request)

print result.getcode()
print len(result.read())
soup = BeautifulSoup(html_doc,'html.parser',from_encoding='utf-8')
print '获取所有的链接'
links = soup.find_all('a')
for link in links:
    print link.name,link['href'],link.get_text()
print '第三种方法'
soup = BeautifulSoup(html_doc,'html.parser',from_encoding='utf-8')
print '获取所有的链接'
links = soup.find_all('a')
for link in links:
    print link.name,link['href'],link.get_text()
c = cookielib.CookieJar()
opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(c))
urllib2.install_opener(opener)
result2 = urllib2.urlopen(url)
link4 = soup.find('a',class_='mnav')
print result2.getcode()
print len(result2.read())
print c
print link4


